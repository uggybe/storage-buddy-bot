# üè† Storage Buddy Bot - Self-Hosted Quick Start

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Storage Buddy Bot –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ—â–Ω–æ—Å—Ç—è—Ö (Synology/Linux/Docker).

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (TL;DR)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/uggybe/storage-buddy-bot.git
cd storage-buddy-bot

# 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
./scripts/generate-keys.sh

# 3. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env.local (–¥–æ–±–∞–≤–ª—è–µ–º TELEGRAM_BOT_TOKEN –∏ IP –∞–¥—Ä–µ—Å)
nano .env.local

# 4. –°–æ–±–∏—Ä–∞–µ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm install
npm run build

# 5. –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# 6. –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://your-ip (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
# http://your-ip:3000 (Supabase Studio)
```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ [MIGRATION.md](./MIGRATION.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

## üéØ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

### –°–µ—Ä–≤–∏—Å—ã

- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 5432)
- **Supabase Auth** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Supabase Storage** - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- **Supabase Realtime** - WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Kong** - API Gateway (–ø–æ—Ä—Ç 8000)
- **Nginx** - –í–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–ø–æ—Ä—Ç 80/443)
- **Supabase Studio** - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (–ø–æ—Ä—Ç 3000)
- **Telegram API** - –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram (–ø–æ—Ä—Ç 3001)

### –°–∫—Ä–∏–ø—Ç—ã

- `scripts/generate-keys.sh` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT –∫–ª—é—á–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
- `scripts/backup-local.sh` - –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
- `scripts/export-from-supabase.sh` - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase Cloud
- `scripts/import-to-local.sh` - –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- 2-4GB —Å–≤–æ–±–æ–¥–Ω–æ–π RAM
- 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- Node.js 18+ (–¥–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart frontend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
./scripts/backup-local.sh
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ `.env.local`
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è production
3. **Firewall** - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
4. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã** - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres psql -U postgres -c "\l+"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f postgres
docker-compose logs -f telegram-api
docker-compose logs -f frontend
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã
sudo netstat -tulpn | grep -E '(80|443|3000|5432|8000)'

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down -v
docker-compose up -d
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL
docker-compose ps postgres

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs postgres

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î
docker-compose exec postgres psql -U postgres
```

### –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
rm -rf node_modules dist
npm install
npm run build
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull

# –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
cd telegram-service && npm install && cd ..

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down
docker-compose up -d
```

## üåç –î–æ—Å—Ç—É–ø –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: Port Forwarding –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 80 –∏ 443 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
2. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DynDNS –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–µ–Ω–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloudflare Tunnel

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ cloudflared
# –°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã
cloudflared tunnel --url http://localhost:80
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Tailscale/Zerotier

–°–æ–∑–¥–∞–π—Ç–µ VPN —Å–µ—Ç—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤.

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**–ë–ï–°–ü–õ–ê–¢–ù–û!**

–í—ã –ø–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞:
- –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç (–µ—Å–ª–∏ –±—ã–ª)
- –î–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, ~$10/–≥–æ–¥)

–ù–∏–∫–∞–∫–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ Vercel, Supabase, AWS –∏ —Ç.–¥.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [MIGRATION.md](./MIGRATION.md)
- üêõ Issues: [GitHub Issues](https://github.com/uggybe/storage-buddy-bot/issues)
- üí¨ Telegram: —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**Happy Self-Hosting! üéâ**
